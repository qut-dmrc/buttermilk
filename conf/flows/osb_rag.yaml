# Enhanced RAG Demo Flow - Composable version
# Uses Hydra's composition to pull in reusable components

defaults:
  - _self_
  # Enhanced RAG agents
  - /agents@osb_rag.agents: enhanced_rag
  # Observer agents
  - /agents@osb_rag.observers:
    - host/ra  # Using research assistant host
  # Data source configuration
  - /storage@osb_rag.storage: osb

osb_rag:
  # Core flow configuration
  orchestrator: buttermilk.orchestrators.groupchat.AutogenOrchestrator
  name: "Enhanced RAG Demo"
  description: "Demonstration of enhanced RAG capabilities with intelligent search planning"

  # Flow parameters
  parameters:
    # Enhanced RAG specific settings
    enable_multi_agent_synthesis: true     # Combine insights from multiple agents
    enable_cross_validation: true          # Fact-checker validates researcher findings
    enable_thematic_exploration: true      # Explorer discovers related themes
    
    # Search optimization
    adaptive_search_strategy: true         # Adapt search strategy based on query type
    result_diversity_threshold: 0.3        # Ensure diverse results across agents
    
    # UI and interaction
    show_search_strategies: true           # Display search strategies used
    show_confidence_scores: true           # Display confidence in results
    enable_follow_up_suggestions: true     # Suggest follow-up questions
    
    # Quality assurance
    minimum_sources: 2                     # Require multiple sources for claims
    cross_reference_threshold: 0.8         # Threshold for cross-referencing results

  # These will be populated by the defaults
  agents: {}
  observers: {}